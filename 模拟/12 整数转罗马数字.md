## 12 整数转罗马数字

### 题目描述如下:

> 罗马数字包含以下七种字符： I， V， X， L，C，D 和 M。

> 字符          数值

> I             1

> V             5

> X             10

> L             50

> C             100

> D             500

> M             1000

> 例如， 罗马数字 2 写做 II ，即为两个并列的 1。12 写做 XII ，即为 X + II 。 27 写做  XXVII, 即为 XX + V + II 。

> 通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 IIII，而是 IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为 IX。这个特殊的规则只适用于以下六种情况：

> I 可以放在 V (5) 和 X (10) 的左边，来表示 4 和 9。

> X 可以放在 L (50) 和 C (100) 的左边，来表示 40 和 90。 

> C 可以放在 D (500) 和 M (1000) 的左边，来表示 400 和 900。

> 给你一个整数，将其转为罗马数字。

#### 本题没什么好说的,纯模拟。而且感觉其实面试考这种题没有任何意义,不知道阿扣把这题放这么靠前是什么用意(如果面试国外公司当我没说哈)

#### 只需要用一个表记录所有可能的整数组分对应的罗马数字,然后由大到小计算整数中的各个组分即可

### 代码如下:

```C++
class Solution {
private:
    const pair<int, string> dict[13] = {
        {1, "I"},
        {4, "IV"},
        {5, "V"},
        {9, "IX"},
        {10, "X"},
        {40, "XL"},
        {50, "L"},
        {90, "XC"},
        {100, "C"},
        {400, "CD"},
        {500, "D"},
        {900, "CM"},
        {1000, "M"},
    };
public:
    string intToRoman(int num) {
        int div = 1000, n = 12;
        string roman;
        while(num > 0) {
            div = dict[n].first;
            while(num >= div) {
                num -= div;
                roman += dict[n].second;
            }
            --n;
        }
        return roman;
    }
};
```

### 不过写这道题的时候,我遇到了一个C++语言实现细节方面的问题:

#### 对于一个类成员变量,如果它是一个数组(对应上面的dict),那么这个成员变量的长度必须是事先确定的

其实很好理解:因为class类似一个对象的模板,我们对数组用大括号赋初值的时候,希望编译器帮我们计算出默认类成员数组的长度,但是从定义上,C++的纯数组(不是vector)的长度是不能改变的,而对于一个类,我们可能会希望创建有不同长度的成员数组变量的不同对象,那这就会导致,我们如果希望通过传入dict的长度参数来创建不同长度的dict数组,那么就相当于把dict当成了一个变长数组,但这毫无疑问是错误的

所以C++编译器为了避免这种兼容性错误,是不允许在类成员变量中使用编译时数组长度推理的

#### 这个知识点感觉比这道题有用...

形象一点, 下面的代码是错误的:

```C++
class Solution {
private:
    const pair<int, string> dict[] = { // 这里必须明确指明dict[13], 否则编译会出错
        {1, "I"},
        {4, "IV"},
        {5, "V"},
        {9, "IX"},
        {10, "X"},
        {40, "XL"},
        {50, "L"},
        {90, "XC"},
        {100, "C"},
        {400, "CD"},
        {500, "D"},
        {900, "CM"},
        {1000, "M"},
    };
public:
    string intToRoman(int num) {
        int div = 1000, n = 12;
        string roman;
        while(num > 0) {
            div = dict[n].first;
            while(num >= div) {
                num -= div;
                roman += dict[n].second;
            }
            --n;
        }
        return roman;
    }
};
```